<!DOCTYPE html>
<html ng-app="git-sd">
	<head>
		<link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css" />
		<link rel="stylesheet" href="/node_modules/font-awesome/css/font-awesome.min.css" />
	</head>
	<body ng-controller="IndexCtrl" class="padding-lg">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 mt-lg-5">
					<h1>
						{{repo.path}}
						<button class="btn btn-primary pull-right" ng-click="refresh()" ng-disabled="loading">
							<i class="fa fa-refresh {{loading?'fa-spin':''}}"></i>
						</button>
					</h1>
					<h2>
						{{repo.remote}}
					</h2>
					<table class="table table-stripped">
						<thead>
							<tr>
								<th>Env</th>
								<th>Current Hash</th>
								<th>Deploy Hash</th>
								<th>Current Date</th>
								<th>Deploy Date</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="(name, env) in repo.envs">
								<td>{{name}}</td>
								<td>{{env.current.commit}}</td>
								<td>{{env.deploy.commit}}</td>
								<td>{{env.current.date}}</td>
								<td>{{env.deploy.date}}</td>
								<td class="{{env.current.commit==env.deploy.commit?'bg-success':'bg-warning'}}">&nbsp;</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="/node_modules/lodash/index.js"></script>
		<script type="text/javascript" src="/node_modules/jquery/jquery.min.js"></script>
		<script type="text/javascript" src="/node_modules/popper.js/dist/umd/popper.min.js"></script>
		<script type="text/javascript" src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="/node_modules/moment/min/moment-with-locales.min.js"></script>
		<script type="text/javascript" src="/node_modules/angular/angular.js"></script>
		<script type="text/javascript" src="/static/app.js"></script>
	</body>
</html>
